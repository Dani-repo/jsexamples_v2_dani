<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <!-- Bootstrap Styles -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />

</head>

<body>
  <main class="d-flex justify-content-center ">
    <form class="m-3 rounded-2 border border-secondary p-3 w-50">

      <div class="form-floating mb-3">

        <!-- Select element for saluation -->
        <select name="inputSelect" class="form-select" id="inputSelect">
          <!-- <option value="Mr.">Mr.</option> -->
        </select>
        <label for="inputSelect">Salutation:</label>

      </div>

      <div class="form-floating">

        <!-- Text element for name -->
        <input type="text" class="form-control" id="inputName" placeholder="Name" />
        <label for="inputName">Name</label>

      </div>

      <!-- Button element to proces submission -->
      <button class="mt-2 btn btn-success" onclick="ftnProcessName();">Submit</button>

    </form>
  </main>

  <!-- include the javascript statements from index.js -->
  <script src="script.js"></script>

  <script>
    // Populate the collection of salutations ; "arr" is the name of the array
    const arr = ftnSalutation();
    // console.log(arr);


    // Populate InputSelect dynamically
    const selectList = document.getElementById("inputSelect");

    // <option value="">Please select</option> this is similar with below
    selectList.options[0] = new Option("Please select", "");
    // selectList.options[1] = new Option("Mr.", "Mr.");
    // selectList.options[2] = new Option("Mrs.", "Mrs.");
    // selectList.options[3] = new Option("Ms.", "Ms.");
    // selectList.options[4] = new Option("Dr.", "Dr.");
    //following section achieve same results with the 4 lines above
    //Iterate through arr to dinamically inject the options using for loop
    //selectList index has to start from index 1 as index 0 is occupied by "Please select"
    for (let index = 0; index < arr.length; index++) {
      selectList.options[index + 1] = new Option(arr[index], arr[index]);
    }
    // 2. Process Useer's inputs
    function ftnProcessName() {
      const selectedChoice = document.getElementById("inputSelect").value;
      const uName = document.getElementById("inputName").value;

      const validated = validateInputs(selectedChoice, uName);
      if (!validated)
        return alert("All inputs need to be completed");
      
      return alert(ftnGreeting(selectedChoice, uName));
    }
    //call ftnGreeting to formulate user feedback
    // alert(`Salutation: ${selectedChoice}, Name: ${uName}`)
    // alert(ftnGreeting(selectedChoice, uName));
    


  </script>

  <!-- Bootstrap JavaScript Library -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

</body>

</html>